"use strict";(self.webpackChunkpressure=self.webpackChunkpressure||[]).push([[745],{745:(e,t,l)=>{l.r(t),l.d(t,{default:()=>d});var n=l(43),o=l(402),r=l(579);const s=()=>{var e,t,l;const[s,i]=(0,n.useState)(""),[a,d]=(0,n.useState)(""),[c,u]=(0,n.useState)(!1),[h,v]=(0,n.useState)(null);(0,n.useEffect)((()=>{m()}),[]);const m=async()=>{try{var e,t,l,n,r,s;const a=new o.qw({id:"waterlevel-xrivu"}),c="getPresure",u=["65d880bdf332ae485b63b52e"],h=await a.currentUser.callFunction(c,...u);v(h),i(null===h||void 0===h||null===(e=h.public)||void 0===e||null===(t=e.input)||void 0===t||null===(l=t.jsonData)||void 0===l?void 0:l.const.toString()),d(null===(n=h.public)||void 0===n||null===(r=n.input)||void 0===r||null===(s=r.jsonData)||void 0===s?void 0:s.P0.toString())}catch(a){console.error("Error fetching data:",a)}};return(0,r.jsx)("div",{className:"container mx-auto p-8 max-w-md bg-white shadow-md rounded",children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"constInput",children:"Const:"}),(0,r.jsx)("input",{className:"w-full px-3 py-2 border rounded-md border-gray-300 focus:outline-none focus:border-indigo-500",type:"number",id:"constInput",value:s,onChange:e=>i(e.target.value)})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"P0Input",children:"P0:"}),(0,r.jsx)("input",{className:"w-full px-3 py-2 border rounded-md border-gray-300 focus:outline-none focus:border-indigo-500",type:"number",id:"P0Input",value:a,onChange:e=>d(e.target.value)})]}),(0,r.jsx)("button",{className:"bg-indigo-500 text-white font-bold py-2 px-4 rounded-md focus:outline-none focus:shadow-outline",onClick:async()=>{try{const e=new o.qw({id:"waterlevel-xrivu"}),t="changeValue",l=[s,a];await e.currentUser.callFunction(t,...l),m(),u(!1)}catch(e){console.error("Error changing values:",e)}},children:"Save Changes"})]}):(0,r.jsxs)(r.Fragment,{children:[null===h||void 0===h||null===(e=h.public)||void 0===e||null===(t=e.input)||void 0===t||null===(l=t.jsonSchema)||void 0===l?void 0:l.map((e=>{var t,l;return(0,r.jsx)("div",{children:(0,r.jsxs)("p",{children:[e.title,": ",null===h||void 0===h||null===(t=h.public)||void 0===t||null===(l=t.input)||void 0===l?void 0:l.jsonData[e.name]]})},e.name)})),(0,r.jsx)("button",{className:"bg-indigo-500 text-white font-bold py-2 px-4 rounded-md focus:outline-none focus:shadow-outline",onClick:()=>u(!0),children:"Edit"})]})})},i=e=>{let{width:t,height:l,fillColor:n,strokeColor:o,rotate:s}=e;const i=25,a={transform:"rotate(".concat(s,"deg)")},d=Array.from({length:11},((e,l)=>(0,r.jsxs)("g",{transform:"rotate(".concat(s," ").concat(parseInt(t)-10," ").concat(l*i+12.5,")"),children:[(0,r.jsx)("text",{x:parseInt(t)-90,y:l*i+12.5+10,textAnchor:"end",style:{fill:"black",fontSize:"13px"},children:l}),(0,r.jsx)("rect",{x:parseInt(t)-80,y:l*i,width:20,height:i,style:{fill:"red",stroke:o,strokeWidth:1}})]},l)));return(0,r.jsxs)("svg",{style:a,children:[(0,r.jsx)("rect",{width:t,height:l,y:0,style:{fill:n,stroke:o,strokeWidth:1}}),d]})};var a=l(216);const d=()=>{var e,t,l,d,c;const[u,h]=(0,n.useState)(null),v=(0,a.Zp)();(0,n.useEffect)((()=>{m()}));const m=async()=>{try{const e=new o.qw({id:"waterlevel-xrivu"});e.currentUser||v("/pressure");const t="getPresure",l=["65d880bdf332ae485b63b52e"],n=await e.currentUser.callFunction(t,...l);h(n)}catch(e){console.error("Error fetching data:",e)}};return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center p-8",children:[(0,r.jsx)("h2",{className:"text-3xl font-semibold mb-4",children:"Pressure Data"}),(0,r.jsx)(s,{}),u?(0,r.jsxs)("div",{className:"border p-4 mb-4",children:[null===u||void 0===u||null===(e=u.public)||void 0===e||null===(t=e.output)||void 0===t||null===(l=t.jsonSchema)||void 0===l?void 0:l.map((e=>{var t,l;return(0,r.jsx)("div",{children:(0,r.jsxs)("p",{children:[e.title,": ",null===u||void 0===u||null===(t=u.public)||void 0===t||null===(l=t.output)||void 0===l?void 0:l.jsonData[e.name]]})},e.name)})),(0,r.jsx)("div",{className:"flex mr-24 overflow-visible h-80 mt-0 mb-96",children:(0,r.jsx)(i,{width:"30%",height:25*(null===u||void 0===u||null===(d=u.public)||void 0===d||null===(c=d.output)||void 0===c?void 0:c.jsonData.level),fillColor:"blue",strokeColor:"black",rotate:"-180"})})]}):(0,r.jsx)("p",{className:"mt-4",children:"Loading..."})]})}}}]);
//# sourceMappingURL=745.39a01bd9.chunk.js.map